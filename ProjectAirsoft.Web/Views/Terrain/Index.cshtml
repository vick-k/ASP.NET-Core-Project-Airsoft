@using ProjectAirsoft.ViewModels.Terrain;
@model IEnumerable<TerrainIndexViewModel>

@{
	ViewData["Title"] = "Terrains";
}

<h2>@ViewData["Title"]</h2>

<hr />

@if (Model.Count() == 0)
{
	<p>No terrains has been added yet.</p>
}
else
{
	<table class="table table-hover">
		<caption>Total terrains: @Model.Count()</caption>
		<thead>
			<tr>
				<th>Name</th>
				<th>Location</th>
				<th>City</th>
				<th># of Games</th>
				@if (User?.Identity?.IsAuthenticated ?? false)
				{
					<th>Actions</th>
				}
			</tr>
		</thead>
		<tbody class="table-group-divider">
			@foreach (var terrain in Model)
			{
				<tr>
					<td>@terrain.Name</td>
					<td><a target="_blank" href="@terrain.LocationUrl">Link</a></td>
					<td>@terrain.City</td>
					<td>@terrain.GamesCount</td>
					@if (User?.Identity?.IsAuthenticated ?? false)
					{
						<td>
							<a asp-controller="Terrain" asp-action="Edit" asp-route-id="@terrain.Id" class="btn btn-outline-info">Edit</a>
						</td>
					}
				</tr>
			}
		</tbody>
	</table>
}
